# _concepts.yaml - Machine-readable concept map for AppTheory TypeScript

concepts:
  apptheory_ts:
    type: library
    language: typescript
    purpose: "TypeScript runtime and adapters for AppTheory."
    provides:
      - app_router_middleware
      - aws_event_builders
      - response_helpers
      - deterministic_test_env
    requires:
      - node_24
    use_when:
      - "You need AppTheory semantics in a Node.js Lambda."
      - "You need contract-backed parity with Go/Python."

  test_env:
    type: component
    purpose: "Deterministic test environment used for unit tests and contract runners."
    key_methods:
      - createTestEnv: "Creates a TestEnv with controllable clock and ID generator."

  limited_rate_limiting:
    type: component
    purpose: "DynamoDB-backed rate limiting (ported from Go `limited`) for cross-instance enforcement."
    provides:
      - DynamoRateLimiter
      - FixedWindowStrategy
      - SlidingWindowStrategy
      - MultiWindowStrategy
