# GovTheory (`gov-infra/`)

This directory contains **repo-local governance artifacts** generated by GovTheory (GOV). It is designed to make
quality/security/compliance work explicit, versioned, and resistant to “green by exclusion”.

## Quick Start

From the repository root:

1) Run the deterministic rubric verifier:
   - `bash gov-infra/verifiers/gov-verify-rubric.sh`
2) Read the machine report:
   - `gov-infra/evidence/gov-rubric-report.json`
3) Inspect evidence logs for each rubric ID:
   - `gov-infra/evidence/*-output.log`

Notes:
- Verifier scripts are intentionally safe to commit **without** execute permissions; always run via `bash …`.
- Missing or unimplemented checks should be recorded as `BLOCKED`, not “fixed” by weakening gates.
- `SEC-3` (supply-chain) may materialize Node dependencies with scripts disabled and scan `node_modules` lifecycle hooks,
  plus lightweight scans of `go.mod` and Python dependency files. Use the allowlist only with justification:
  `gov-infra/planning/apptheory-supply-chain-allowlist.txt`.

## What’s In Here

- `gov-infra/pack.json`: provenance + the source of truth for the signed artifact set (additive-only).
- `gov-infra/planning/`: threat model, controls matrix, rubric, roadmap, evidence plan, drift recovery.
- `gov-infra/verifiers/`: deterministic verifier entrypoints (run via `bash`, not `./`).
- `gov-infra/evidence/`: reports + logs written by verifiers (deterministic paths).
- `gov-infra/prompts/`: optional JSON prompt/spec blobs for user agents (generated server-side).

## Working Rules (Humans + Agents)

- Keep all governance outputs under `gov-infra/`.
- Treat the rubric/roadmap as living documents: they are not static; keep them versioned in git and evolve them intentionally.
- Don’t relax gates by excluding directories, lowering thresholds, or disabling checks.
- If a verifier depends on a missing tool/version pin, **fail closed** (`BLOCKED`) until pinned.
- Don’t commit secrets into `gov-infra/`.
- If verifiers create `gov-infra/.tools/` (pinned tool installs), treat it as local-only (don’t commit binaries).
- If you suppress a `SEC-3` finding, add the exact ID to `gov-infra/planning/apptheory-supply-chain-allowlist.txt` with a justification comment.

## Next Steps

- Open `gov-infra/planning/` and follow the next step in the roadmap.
- Use `pai gov validate` for CI-friendly deterministic validation.
- Use `pai gov sign` locally when you’re ready to certify + sign the governance bundle.
